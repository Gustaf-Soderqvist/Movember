(function(){"use strict";angular.module("movember",["ui.router","ngAnimate","ngCookies"])})();(function(){"use strict";angular.module("movember").directive("fileDropzone",fileDropzone);function fileDropzone(){var directive={link:link,restrict:"A",scope:{file:"=",fileName:"="}};return directive;function link(scope,element,attrs){var checkSize,isTypeValid,processDragOverOrEnter,validMimeTypes;processDragOverOrEnter=function(event){if(event!=null){event.preventDefault()}event.dataTransfer.effectAllowed="copy";return false};validMimeTypes=attrs.fileDropzone;checkSize=function(size){var _ref;if((_ref=attrs.maxFileSize)===void 0||_ref===""||size/1024/1024<attrs.maxFileSize){return true}else{alert("File must be smaller than "+attrs.maxFileSize+" MB");return false}};isTypeValid=function(type){if(validMimeTypes===void 0||validMimeTypes===""||validMimeTypes.indexOf(type)>-1){return true}else{alert("Invalid file type.  File must be one of following types "+validMimeTypes);return false}};element.bind("dragover",processDragOverOrEnter);element.bind("dragenter",processDragOverOrEnter);return element.bind("drop",function(event){var file,name,reader,size,type;if(event!=null){event.preventDefault()}reader=new FileReader;reader.onload=function(evt){if(checkSize(size)&&isTypeValid(type)){return scope.$apply(function(){scope.file=evt.target.result;if(angular.isString(scope.fileName)){return scope.fileName=name}})}};file=event.dataTransfer.files[0];name=file.name;type=file.type;size=file.size;reader.readAsDataURL(file);return false})}}})();(function(){"use strict";angular.module("movember").factory("posts",posts);posts.$inject=["$http","$log"];function posts($http,$log){$log.info("Post called");var service={save:save,load:get,list:list,remove:remove};function save(post){return $http.post("/api/post",post).then(function(res,status,headers,config){return res.data})}function remove(id){return $http.delete("/api/post/"+id).then(function(res,status,headers,config){return res.data})}function get(id){return $http.get("/api/post/"+id).then(function(res,status,headers,config){return res.data})}function list(){return $http.get("/api/post").then(function(res,status,headers,config){return res.data})}return service}})();(function(){"use strict";angular.module("movember").filter("dateFilter",function($filter){return function(input,format,timezone){return!!input?$filter("date")(Date.parse(input),format,timezone):""}})})();(function(){"use strict";angular.module("movember").config(function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/");$stateProvider.state("list",{url:"/",views:{main:{templateUrl:"partials/list.html",controller:"ListPostController as vm",resolve:{postlist:function(posts){return posts.list()}}},title:{template:"Posts"}}}).state("new",{url:"/new",views:{main:{templateUrl:"partials/new.html",controller:"NewPostController as vm"},title:{template:"New post"}}}).state("edit",{url:"/edit/:id",views:{main:{templateUrl:"partials/edit.html",controller:"EditPostController as vm"},title:{template:"Edit post"}}})})})();
//# sourceMappingURL=applib.js.map